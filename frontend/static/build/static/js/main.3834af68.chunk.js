(this["webpackJsonprpg-test"]=this["webpackJsonprpg-test"]||[]).push([[0],{10:function(t,e,a){},32:function(t,e,a){},41:function(t,e,a){"use strict";a.r(e);var s=a(1),n=a.n(s),c=a(25),i=a.n(c),o=a(15),r=(a(32),a(14)),l=a(3),h=a(4),d=a(2),u=a(6),m=a(5),p=a(8),j=(a(10),a(0));s.Component;new function(t,e){this.name=t,this.location="",this.level="",this.ac="",this.maxhp="",this.currenthp="",this.maxsp="",this.currentsp="",this.job="",this.items=[],this.weapons=[],this.armor=[]}("player1",1),new function(t,e,a,s){this.name="",this.north=t,this.south=e,this.east=a,this.west=s,this.roomid=""}(2);var b=a(26),O=a(7),g=a.n(O),x=function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={defaultChar:{},isLoggedIn:!!g.a.get("Authorization"),userId:!!localStorage.getItem("rpguser")},s.saveChar=s.saveChar.bind(Object(d.a)(s)),s}return Object(h.a)(a,[{key:"saveChar",value:function(t){fetch("/characters/save/".concat(t.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(Object(b.a)({},t))})}},{key:"render",value:function(){var t=this,e=void 0!=this.props.all.char?this.props.all.char:this.props.all.defaultChar,a=this.props.all.charWeapon,s=Object(j.jsx)("button",{onClick:function(){return t.saveChar(e)},children:"Save Character"}),n=Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"row charbanner",children:[Object(j.jsx)("div",{className:"col-3 char",children:"Name"}),Object(j.jsx)("div",{className:"col-2 class",children:"Class"}),Object(j.jsx)("div",{className:"col-1 lvl",children:"Lvl"}),Object(j.jsx)("div",{className:"col-1 ac",children:"AC"}),Object(j.jsx)("div",{className:"col-1 hp",children:"HP"}),Object(j.jsx)("div",{className:"col-1 sp",children:"SP"}),Object(j.jsx)("div",{className:"col-1 xp",children:"XP"}),Object(j.jsx)("div",{className:"col-1 weapon",children:"Weapon"})]}),Object(j.jsx)("div",{className:"row charSpace"}),Object(j.jsxs)("div",{className:"row char1row",children:[Object(j.jsx)("p",{className:"col-3 char1",children:e.name}),Object(j.jsx)("p",{className:"col-2 cl1",children:e.job}),Object(j.jsx)("p",{className:"col-1 lvl1",children:e.level}),Object(j.jsx)("p",{className:"col-1 ac1",children:e.ac}),Object(j.jsxs)("p",{className:"col-1 hp1",children:[e.hp,"/",e.hpmax]}),Object(j.jsx)("p",{className:"col-1 sp1",children:null!=e.sp?"".concat(e.sp,"/").concat(e.spmax):"N/A"}),Object(j.jsx)("p",{className:"col-1 xp1",children:e.xp}),Object(j.jsx)("p",{className:"col-1 weapon",children:a.name})]})]});return Object(j.jsxs)("div",{children:[this.props.all.char?n:Object(j.jsx)("p",{children:"Please log in to load your character or feel free to play our demo."}),this.props.all.char?s:null]})}}]),a}(s.Component),v=(a.p,a.p,a.p,a.p+"static/media/dungeonWalk.c4942fb1.gif"),f=a.p+"static/media/dungeonStatic.015cc2eb.jpg",w=function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={},s}return Object(h.a)(a,[{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"img img-fluid",src:this.props.all.image,alt:"gate"})})}}]),a}(s.Component),k=[{id:1,name:"Home Base",desc:"A workshop filled with building materials and monster parts.",north:2,south:null,east:8,west:null,static:f,walk:v},{id:2,name:"Room to the North",desc:"A surprisingly difficult to reach destination. There are exits\n        to the north and south.",north:3,south:1,east:null,west:null,static:f,walk:v},{id:3,name:"Center of the Build",desc:"A soaring cavern with exits in all directions",north:5,south:2,east:6,west:4,static:f,walk:v},{id:4,name:"The Western Chamber",desc:"A quiet space for working and testing. There's an exit to the east",north:null,south:null,east:3,west:null,static:f,walk:v},{id:5,name:"The Waterfall",desc:"A cold, soaring chamber dominated by waterfall plunging from a fissure in the rock.",north:null,south:3,east:null,west:null,static:f,walk:v},{id:6,name:"The Eastern Chamber",desc:"A large cavern strewn with discarded monster bits.",north:null,south:7,east:null,west:3,static:f,walk:v},{id:7,name:"The Eastern Corridor",desc:"A long stone cavern filled with the glowing golden light of hundreds\n        of torches. Just like that Police video.",north:6,south:8,east:null,west:null,static:f,walk:v},{id:8,name:"The Study",desc:"A small, quiet room with floor-to-ceiling bookshelves and many\n        comfortable chairs.",north:7,south:null,east:null,west:1,static:f,walk:v}],y=function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={moveMsg:"",currentroom:k[0],dir:{}},s.move=s.move.bind(Object(d.a)(s)),s}return Object(h.a)(a,[{key:"move",value:function(t){var e,a=this,s=t.target.title;"north"==s&&(e=k.filter((function(t){return t.id==a.props.currentRoom.north}))),"south"==s&&(e=k.filter((function(t){return t.id==a.props.currentRoom.south}))),"east"==s&&(e=k.filter((function(t){return t.id==a.props.currentRoom.east}))),"west"==s&&(e=k.filter((function(t){return t.id==a.props.currentRoom.west}))),(e=e[0])?(this.setState({moveMsg:"You walk to the ".concat(s,".")}),this.setState({name:"",desc:""}),setTimeout((function(){a.setState({moveMsg:""})}),1e3),this.props.travel(e)):this.setState({moveMsg:"There's no exit in that direction!"})}},{key:"render",value:function(){var t=this.props.currentRoom.name,e=this.props.currentRoom.desc,a=Object(j.jsxs)(j.Fragment,{children:[this.props.currentRoom.north?Object(j.jsx)("span",{title:"north",onClick:this.move,children:"<N>"}):null,this.props.currentRoom.south?Object(j.jsx)("span",{title:"south",onClick:this.move,children:"<S>"}):null,this.props.currentRoom.east?Object(j.jsx)("span",{title:"east",onClick:this.move,children:"<E>"}):null,this.props.currentRoom.west?Object(j.jsx)("span",{title:"west",onClick:this.move,children:"<W>"}):null]}),s=this.state.moveMsg;return Object(j.jsxs)("div",{children:[!0===this.props.all.gameOn?Object(j.jsx)("h1",{children:t}):Object(j.jsx)("h1",{className:"welcomeTitle",children:"Welcome to This Unnamed Role Playing Game"}),Object(j.jsx)("p",{id:"moveMsg",children:s}),!0===this.props.all.gameOn?Object(j.jsx)("p",{children:e}):null,!0===this.props.all.gameOn?Object(j.jsx)("p",{id:"nsew",children:a}):null]})}}]),a}(s.Component),S=(s.Component,a(16)),C=a.n(S),N=a(18),T=function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={isLoggedIn:!!g.a.get("Authorization"),inSession:!!g.a.get("sessionid"),username:"",email:"",password:"",password1:"",password2:"",data:[],hasProfile:!1,charData:null,accountData:[],hasAccount:!1},s.handleInput=s.handleInput.bind(Object(d.a)(s)),s.handleLogin=s.handleLogin.bind(Object(d.a)(s)),s.reset=s.reset.bind(Object(d.a)(s)),s.deleteChar=s.deleteChar.bind(Object(d.a)(s)),s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=this,e={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")}};fetch("/accounts/detail/",e).then((function(e){return e.ok&&t.setState({hasAccount:!0}),e.json().then((function(e){return t.setState({accountData:e,charData:e.character})}))})),this.state.charData&&this.props.gameOn()}},{key:"reset",value:function(){this.setState({username:""}),this.setState({password:""}),window.location.reload()}},{key:"handleLogin",value:function(){var t=Object(N.a)(C.a.mark((function t(e,a){var s,n,c,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),s={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(a)},n=function(t){return console.warn(t)},t.next=5,fetch("/rest-auth/login/",s);case 5:return c=t.sent,t.next=8,c.json().catch(n);case 8:(i=t.sent).key&&g.a.set("Authorization","Token ".concat(i.key)),this.reset();case 11:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"handleInput",value:function(t){this.setState(Object(r.a)({},t.target.name,t.target.value))}},{key:"handleRegistration",value:function(){var t=Object(N.a)(C.a.mark((function t(e,a){var s,n,c,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),s={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(a)},n=function(t){return console.warn(t)},t.next=5,fetch("/rest-auth/registration/",s);case 5:return c=t.sent,t.next=8,c.json().catch(n);case 8:(i=t.sent).key&&g.a.set("Authorization","Token ".concat(i.key)),this.setState({username:"",email:"",password1:"",password2:""}),window.location.reload();case 12:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"createProfile",value:function(){var t=Object(N.a)(C.a.mark((function t(){var e,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new FormData).append("user",1),a={method:"POST",headers:{"X-CSRFToken":g.a.get("csrftoken")},body:e},t.next=5,fetch("/profiles/",a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"handleLogout",value:function(){var t=this,e={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")}};fetch("/rest-auth/logout/",e).then((function(t){return t.json()})).then((function(e){return t.setState({data:e})})),g.a.remove("Authorization"),g.a.remove("sessionid"),localStorage.clear(),window.location.reload(),this.props.gameOn()}},{key:"deleteChar",value:function(t){var e=this;if("y"===prompt("Are you sure?")){var a={method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")}};fetch("/characters/delete/".concat(t.id,"/"),a).then((function(t){return t.json()})).then((function(t){return e.setState({data:t})})),window.location.reload()}}},{key:"render",value:function(){var t=this,e=(this.props.all.charData,Object(j.jsxs)("form",{onSubmit:function(e){return t.handleRegistration(e,t.state)},children:[Object(j.jsx)("input",{className:"input-group form-control",type:"text",placeholder:"username",name:"username",value:this.state.username,onChange:this.handleInput}),Object(j.jsx)("input",{className:"input-group form-control",type:"email",placeholder:"email",name:"email",value:this.state.email,onChange:this.handleInput}),Object(j.jsx)("input",{className:"input-group form-control",type:"password",placeholder:"password",name:"password1",value:this.state.password1,onChange:this.handleInput}),Object(j.jsx)("input",{className:"input-group form-control",type:"password",placeholder:"confirm pass",name:"password2",value:this.state.password2,onChange:this.handleInput}),Object(j.jsx)("p",{children:Object(j.jsx)("button",{className:"btn btn-secondary",type:"submit",children:"Register"})})]})),a=(this.createProfile,Object(j.jsxs)("form",{onSubmit:function(e){return t.handleLogin(e,t.state)},children:[Object(j.jsx)("p",{children:"Welcome! Please log in, or register to create your own character."}),Object(j.jsx)("input",{className:"input-group",type:"text",placeholder:"username",name:"username",value:this.state.username,onChange:this.handleInput}),Object(j.jsx)("input",{className:"input-group",type:"password",placeholder:"password",name:"password",value:this.state.password,onChange:this.handleInput}),Object(j.jsx)("button",{className:"btn btn-secondary",type:"submit",children:"Log In"})]})),s=Object(j.jsx)("form",{onSubmit:function(e){return t.handleLogout(e,t.state)},children:Object(j.jsx)("button",{className:"btn btn-secondary",type:"submit",children:"Log Out"})}),n=this.state.charData,c=this.state.accountData,i=!0===this.state.hasAccount?Object(j.jsxs)("p",{children:["Account: ",c.username]}):null,o=!0===this.state.hasAccount&&null!==this.state.charData?Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"Available characters:"}),Object(j.jsxs)("span",{children:[n.name," - Level ",n.level," ",n.job]}),Object(j.jsx)("button",{onClick:function(){return t.deleteChar(n)},children:"Delete"})]}):Object(j.jsx)("p",{children:"Create a character to enter a world of adventure."});return Object(j.jsxs)("div",{className:"loginForm",children:[!1===this.state.isLoggedIn&&!1===this.state.inSession?a:s,!1===this.state.isLoggedIn?e:null,i,o]})}}]),a}(s.Component),I=function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={isLoggedIn:!!g.a.get("Authorization")},s}return Object(h.a)(a,[{key:"render",value:function(){var t=void 0!=this.props.all.char?this.props.all.char:this.props.all.defaultChar,e=Object(j.jsxs)("div",{className:"charSheet",children:[Object(j.jsxs)("p",{children:["Name: ",t.name]}),Object(j.jsxs)("p",{children:["Class: ",t.job]}),Object(j.jsxs)("p",{children:["Level: ",t.level]})]}),a=Object(j.jsxs)("div",{className:"charSheet",children:[Object(j.jsxs)("p",{children:["Strength: ",t.str]}),Object(j.jsxs)("p",{children:["Intelligence: ",t.int]}),Object(j.jsxs)("p",{children:["Dexterity: ",t.dex]}),Object(j.jsxs)("p",{children:["Constitution: ",t.con]})]}),s=Object(j.jsxs)("div",{className:"charSheet",children:[Object(j.jsxs)("p",{children:["Armor: ",t.ac]}),Object(j.jsxs)("p",{children:["Health: ",t.hp]}),Object(j.jsxs)("p",{children:["Max Health: ",t.hpmax]})]}),n=Object(j.jsxs)("div",{className:"charSheet",children:[Object(j.jsxs)("p",{children:["Magic: ",t.sp]}),Object(j.jsxs)("p",{children:["Max Magic: ",t.spmax]}),Object(j.jsxs)("p",{children:["Experience: ",t.xp]})]});return this.state.isLoggedIn?Object(j.jsx)("section",{children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col",children:e}),Object(j.jsx)("div",{className:"col",children:a}),Object(j.jsx)("div",{className:"col",children:s}),Object(j.jsx)("div",{className:"col",children:n})]})}):null}}]),a}(s.Component),M=function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={},s}return Object(h.a)(a,[{key:"render",value:function(){return Object(j.jsx)("div",{children:"Inventory!"})}}]),a}(s.Component),A=function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={},s}return Object(h.a)(a,[{key:"render",value:function(){return Object(j.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(j.jsxs)("div",{className:"container-fluid",children:[1==this.props.all.gameOn?Object(j.jsx)("div",{className:"navBox",children:Object(j.jsx)(o.b,{to:"/",children:"Game"})}):null,this.props.all.char||!0!==this.props.all.isLoggedIn?null:Object(j.jsx)("div",{className:"navBox",children:Object(j.jsx)(o.b,{to:"/character/create/",children:"Create Character"})}),this.props.all.gameOn?Object(j.jsx)("div",{className:"navBox",children:Object(j.jsx)(o.b,{to:"/character/",children:"Character"})}):null,this.props.all.gameOn?Object(j.jsx)("div",{className:"navBox",children:Object(j.jsx)(o.b,{to:"/magic/",children:"Magic"})}):null,Object(j.jsx)("div",{className:"navBox",children:Object(j.jsx)(o.b,{to:"/login/",children:this.props.all.isLoggedIn?"Account":"Log In/Register"})})]})})}}]),a}(s.Component),W=function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={},s}return Object(h.a)(a,[{key:"render",value:function(){return Object(j.jsx)("div",{children:"Magic"})}}]),a}(s.Component),R=(s.Component,function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={name:"",job:"",level:1,attack:10,armor:10,health:10,magic:10,str:10,int:10,dex:10,con:10,available:15,isLoggedIn:!!g.a.get("Authorization"),completed:""},s.handleInput=s.handleInput.bind(Object(d.a)(s)),s.handleDropdown=s.handleDropdown.bind(Object(d.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.statUp=s.statUp.bind(Object(d.a)(s)),s.statDown=s.statDown.bind(Object(d.a)(s)),s}return Object(h.a)(a,[{key:"handleInput",value:function(t){this.setState(Object(r.a)({},t.target.name,t.target.value))}},{key:"handleDropdown",value:function(t){this.setState({job:t.target.value})}},{key:"handleSubmit",value:function(){var t=Object(N.a)(C.a.mark((function t(e){var a,s,n,c,i,o=this;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),a={attack:this.state.attack,name:this.state.name,job:this.state.job,level:this.state.level,ac:this.state.armor,hp:this.state.health,sp:this.state.magic,hpmax:this.state.health,spmax:this.state.magic,str:this.state.str,int:this.state.int,dex:this.state.dex,con:this.state.con,xp:0},s={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(a)},n=function(t){return console.warn(t)},t.next=6,fetch("/characters/create/",s);case 6:return c=t.sent,t.next=9,c.json().catch(n);case 9:i=t.sent,c.ok&&(this.setState({completed:"Character ".concat(i.name,", a level ").concat(i.level," ").concat(i.job,", created!"),name:"",job:"Choose"}),setTimeout((function(){o.props.history.push("/character/")}),1500),this.props.gameOn());case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"statUp",value:function(t){var e=t.target.name,a=this.state[e],s=this.state.available;s>0?(a+=1,s-=1,this.setState(Object(r.a)({},e,a)),this.setState({available:s})):alert("No available points"),this.state.attack=this.state.str-10+10,this.state.health=this.state.con-10+10,this.state.magic=this.state.int-10+10,this.state.armor=this.state.dex-10+10}},{key:"statDown",value:function(t){var e=t.target.name,a=this.state[e],s=this.state.available;a>=6?(a-=1,s+=1,this.setState(Object(r.a)({},e,a)),this.setState({available:s})):alert("This stat cannot go lower"),this.state.attack=this.state.str-10+10,this.state.health=this.state.con-10+10,this.state.magic=this.state.int-10+10,this.state.armor=this.state.dex-10+10}},{key:"render",value:function(){var t=Object(j.jsxs)("form",{onSubmit:this.handleSubmit,className:"charCreateForm",children:[Object(j.jsx)("label",{children:"Character Name: "}),Object(j.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInput}),Object(j.jsx)("br",{}),Object(j.jsxs)("label",{children:["Character Class:",Object(j.jsxs)("select",{value:this.state.job,onChange:this.handleDropdown,children:[Object(j.jsx)("option",{value:"Choose",children:"Choose"}),Object(j.jsx)("option",{value:"Warrior",children:"Warrior"}),Object(j.jsx)("option",{value:"Magician",children:"Magician"})]})]}),Object(j.jsx)("label",{children:"Level: "}),Object(j.jsx)("input",{className:"createField",type:"text",placeholder:"Lvl 1",name:"level",value:this.state.level,onChange:this.handleInput,readOnly:!0}),Object(j.jsx)("label",{children:"Armor: "}),Object(j.jsx)("input",{className:"createField",type:"text",placeholder:"Armor",name:"armor",value:this.state.armor,onChange:this.handleInput,readOnly:!0}),Object(j.jsx)("label",{children:"Attack: "}),Object(j.jsx)("input",{className:"createField",type:"text",placeholder:"Attack",name:"attack",value:this.state.attack,onChange:this.handleInput,readOnly:!0}),Object(j.jsx)("label",{children:"Health: "}),Object(j.jsx)("input",{className:"createField",type:"text",placeholder:"Health",name:"health",value:this.state.health,onChange:this.handleInput,readOnly:!0}),Object(j.jsx)("label",{children:"Magic: "}),Object(j.jsx)("input",{className:"createField",type:"text",placeholder:"Magic",name:"magic",value:this.state.magic,onChange:this.handleInput,readOnly:!0}),Object(j.jsx)("button",{className:"btn btn-success charSubmit",type:"submit",children:"Save this Character"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{hidden:!0,name:"hpmax",value:this.state.health,readOnly:!0}),Object(j.jsx)("input",{hidden:!0,name:"spmax",value:this.state.magic,readOnly:!0}),Object(j.jsx)("input",{hidden:!0,name:"xp",value:"0",readOnly:!0}),Object(j.jsx)("br",{})]}),e=Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Strength: "}),Object(j.jsx)("input",{className:"createField",type:"text",name:"str",value:this.state.str,readOnly:!0}),Object(j.jsx)("button",{name:"str",value:this.state.str,onClick:this.statUp,children:"+"}),Object(j.jsx)("button",{value:this.state.str,name:"str",onClick:this.statDown,children:"-"}),Object(j.jsx)("label",{children:"Intelligence: "}),Object(j.jsx)("input",{className:"createField",type:"text",name:"int",value:this.state.int,readOnly:!0}),Object(j.jsx)("button",{name:"int",value:this.state.int,onClick:this.statUp,children:"+"}),Object(j.jsx)("button",{name:"int",value:this.state.int,onClick:this.statDown,children:"-"}),Object(j.jsx)("label",{children:"Dexterity: "}),Object(j.jsx)("input",{className:"createField",type:"text",name:"dex",value:this.state.dex,readOnly:!0}),Object(j.jsx)("button",{name:"dex",value:this.state.dex,onClick:this.statUp,children:"+"}),Object(j.jsx)("button",{name:"dex",value:this.state.dex,onClick:this.statDown,children:"-"}),Object(j.jsx)("label",{children:"Constitution: "}),Object(j.jsx)("input",{className:"createField",type:"text",name:"con",value:this.state.con,readOnly:!0}),Object(j.jsx)("button",{name:"con",value:this.state.con,onClick:this.statUp,children:"+"}),Object(j.jsx)("button",{name:"con",value:this.state.con,onClick:this.statDown,children:"-"}),Object(j.jsx)("label",{children:"Available Points"}),Object(j.jsx)("input",{className:"createField",type:"int",name:"available",value:this.state.available,readOnly:!0})]}),a="".concat(this.state.completed);return Object(j.jsxs)("div",{children:[t,e,a]})}}]),a}(s.Component)),D=Object(p.f)(R),L=[{mobId:1,name:"Bob the Dummy",desc:"",damage:1,attack:7,hp:10,hpmax:10,sp:"null",spmax:"null",ac:10,weapon:"wooden sword",damMessage:"pokes",xp:10},{mobId:2,name:"drop bear",desc:"",damage:1,attack:9,hp:10,hpmax:10,sp:"null",spmax:"null",ac:10,weapon:"claws",damMessage:"rakes",xp:10},{mobId:3,name:"giant tarantula",desc:"",damage:1,attack:12,hp:12,hpmax:12,sp:"null",spmax:"null",ac:12,weapon:"fangs",damMessage:"pierce",xp:10},{mobId:4,name:"hobgoblin",desc:"",damage:1,attack:12,hp:12,hpmax:12,sp:"null",spmax:"null",ac:9,weapon:"short sword",damMessage:"slashes",xp:10},{mobId:5,name:"giant rat",desc:"",damage:1,attack:10,hp:7,hpmax:7,sp:"null",spmax:"null",ac:8,weapon:"teeth",damMessage:"gouge",xp:10},{mobId:6,name:"black slime",desc:"",damage:1,attack:15,hp:6,hpmax:6,sp:"null",spmax:"null",ac:12,weapon:"acid goo",damMessage:"burns",xp:10},{mobId:7,name:"kobold",desc:"",damage:1,attack:14,hp:13,hpmax:13,sp:"null",spmax:"null",ac:10,weapon:"rusty knife",damMessage:"pierces",xp:10}],F=(a(40),a.p+"static/media/arch.eca5c6a6.jpg"),P=function(t){Object(u.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={combatwindow:!1,combat:!1,char:null,charWeapon:{},mob:{},charSpell:{},charAttackMessage:"",mobAttackMessage:"",data:[],isLoggedIn:!!g.a.get("Authorization"),image:F,defaultChar:{},playerMessage:"",currentRoom:k[2],immWindow:"",arg:"",builderInput:!1,gameOn:!1},s.charDeath=s.charDeath.bind(Object(d.a)(s)),s.changeToCombatWindow=s.changeToCombatWindow.bind(Object(d.a)(s)),s.meleeAttack=s.meleeAttack.bind(Object(d.a)(s)),s.magicAttack=s.magicAttack.bind(Object(d.a)(s)),s.runAway=s.runAway.bind(Object(d.a)(s)),s.rando=s.rando.bind(Object(d.a)(s)),s.resetWindow=s.resetWindow.bind(Object(d.a)(s)),s.randomMob=s.randomMob.bind(Object(d.a)(s)),s.heal=s.heal.bind(Object(d.a)(s)),s.charWins=s.charWins.bind(Object(d.a)(s)),s.handleInput=s.handleInput.bind(Object(d.a)(s)),s.handleImmInput=s.handleImmInput.bind(Object(d.a)(s)),s.goto=s.goto.bind(Object(d.a)(s)),s.travel=s.travel.bind(Object(d.a)(s)),s.peace=s.peace.bind(Object(d.a)(s)),s.set=s.set.bind(Object(d.a)(s)),s.logKey=s.logKey.bind(Object(d.a)(s)),s.gameOn=s.gameOn.bind(Object(d.a)(s)),s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.setState({defaultChar:{charId:1,name:"Please log in to load your character",lvl:null,ac:null,hpmax:null,hp:null,spmax:null,sp:null,class:null,weapon:null,xp:null}}),this.setState({charWeapon:{weaponId:1,name:"longsword",damageLow:2,damageHigh:5,damMessage:"slashes"}}),this.setState({charSpell:{spellId:1,name:"force bolt",damageLow:2,damageHigh:8,spCost:4,damMessage:"slams"}}),fetch("/characters/").then((function(t){return t.json()})).then((function(t){return t[0]})).then((function(e){return t.setState({char:e})})),document.addEventListener("keydown",this.logKey)}},{key:"logKey",value:function(t){"MetaRight"===t.code&&this.setState((function(t){return{builderInput:!t.builderInput}}))}},{key:"gameOn",value:function(){this.setState({image:this.state.currentRoom.static}),this.setState((function(t){return{gameOn:!t.gameOn}})),setTimeout((function(){window.location.reload()}),2e3)}},{key:"changeToCombatWindow",value:function(){0==this.state.combatwindow?this.setState({combatwindow:!0}):this.setState({combatwindow:!1})}},{key:"rando",value:function(t,e){return Math.floor(Math.random()*(e-t))+t}},{key:"randomMob",value:function(){var t=this,e=Math.floor(Math.random()*(L.length-1))+1,a=L[e];this.setState({mob:a}),setTimeout((function(){t.setState({playerMessage:"A ".concat(t.state.mob.name," has entered the fight!")})}),0),setTimeout((function(){t.setState({playerMessage:""})}),2e3)}},{key:"resetWindow",value:function(){var t=this;setTimeout((function(){t.setState({combat:!1})}),4e3),setTimeout((function(){t.setState({combatwindow:!1})}),4e3),setTimeout((function(){t.setState({charAttackMessage:""})}),4e3),setTimeout((function(){t.setState({mobAttackMessage:""})}),4e3),setTimeout((function(){t.setState({playerMessage:""})}),4e3)}},{key:"meleeAttack",value:function(t,e,a){var s=this;if(0==this.state.combat&&(this.setState({combat:!0}),e.hp=e.hpmax,t.hp=t.hpmax),this.rando(1,20)+t.attack>this.rando(1,20)+e.ac){var n=this.rando(a.damageLow,a.damageHigh);e.hp=e.hp-n,this.setState({charAttackMessage:"".concat(t.name," ").concat(a.damMessage," the ").concat(e.name," for ").concat(n," points of damage!")})}else this.setState({charAttackMessage:"".concat(t.name," misses the ").concat(e.name,"!")});e.hp<=0?this.charWins(t,e):(setTimeout((function(){s.setState({mobAttackMessage:"The ".concat(e.name," hits ").concat(t.name," for ").concat(e.damage," points of damage!")})}),1500),t.hp=t.hp-e.damage,this.setState({char:t}),t.hp<=0&&setTimeout((function(){s.charDeath(t)}),2e3),setTimeout((function(){s.setState({charAttackMessage:""})}),4e3),setTimeout((function(){s.setState({mobAttackMessage:""})}),4e3))}},{key:"magicAttack",value:function(t,e,a){var s=this;0==this.state.combat&&this.setState({combat:!0});var n=this.state.charSpell;if(t.sp>=n.spCost){t.sp=t.sp-n.spCost;var c=this.rando(n.damageLow,n.damageHigh);this.setState({charAttackMessage:"".concat(t.name,"'s ").concat(n.name," ").concat(n.damMessage," into the ").concat(e.name,", doing ").concat(c," damage!")}),e.hp=e.hp-c}else this.setState({playerMessage:"You don't have enough spell points to cast that."});e.hp<=0?this.charWins(t,e):this.rando(1,20)+e.attack>this.rando(1,20)+t.ac?(t.hp=t.hp-e.damage,this.setState({char:t}),setTimeout((function(){s.setState({mobAttackMessage:"The ".concat(e.name," hits ").concat(t.name," for ").concat(e.damage," points of damage!")})}),1500),setTimeout((function(){s.setState({charAttackMessage:""})}),4e3),setTimeout((function(){s.setState({mobAttackMessage:""})}),4e3)):this.setState({mobAttackMessage:"The ".concat(e.name," misses ").concat(t.name,"!")})}},{key:"charWins",value:function(t,e){var a=this;setTimeout((function(){a.setState({playerMessage:"".concat(t.name," has defeated the ").concat(e.name,"! The fight is over.")})}),1e3),setTimeout((function(){a.setState({playerMessage:"".concat(t.name," receives ").concat(e.xp," points of experience.")})}),2500),this.state.char.xp=this.state.char.xp+this.state.mob.xp,this.setState({char:t}),this.resetWindow()}},{key:"runAway",value:function(){this.setState({playerMessage:"You turn and run!"}),this.resetWindow()}},{key:"charDeath",value:function(t){this.resetWindow(),this.setState({playerMessage:"You have been killed. You materialize in the home room."}),this.state.char.hp=this.state.char.hpmax,this.state.char.sp=this.state.char.spmax}},{key:"handleInput",value:function(t){this.setState(Object(r.a)({},t.target.name,t.target.value))}},{key:"travel",value:function(t){var e=this;this.setState({currentRoom:t}),this.setState({image:this.state.currentRoom.walk}),setTimeout((function(){e.setState({image:e.state.currentRoom.static})}),1500)}},{key:"set",value:function(t,e){this.setState({arg:e}),alert("This doesn't work yet.")}},{key:"handleImmInput",value:function(t){this.setState(Object(r.a)({},t.target.name,t.target.value))}},{key:"heal",value:function(){var t=this.state.char;this.state.char.hp=this.state.char.hpmax,this.state.char.sp=this.state.char.spmax,this.setState({char:t}),this.setState({immWindow:""})}},{key:"goto",value:function(t){var e=k.filter((function(e){return e.id==t}));e=e[0],console.log(e),e?(this.setState({currentRoom:e,immWindow:"",arg:""}),this.resetWindow()):alert("That's not a real room.")}},{key:"peace",value:function(){this.setState({combat:!1}),alert("Combat stopped.")}},{key:"render",value:function(){var t=this;1==this.state.isLoggedIn&&this.state.char&&(this.state.gameOn=!0);var e=this.state.char,a=this.state.mob,s=this.state.charWeapon,c=Object(j.jsx)("button",{onClick:this.changeToCombatWindow,children:"Switch View"}),i=Object(j.jsx)("button",{onClick:this.randomMob,children:"Generate Mob"}),o=Object(j.jsx)("button",{onClick:function(){t.meleeAttack(e,a,s)},children:"Melee Attack"}),r=Object(j.jsx)("button",{onClick:function(){t.magicAttack(e,a,s)},children:"Cast Spell"}),l=Object(j.jsx)("button",{onClick:this.runAway,children:"Run Away!"}),h=this.state.charAttackMessage,d=this.state.mobAttackMessage,u=this.state.playerMessage,m=this.state.immWindow,b=this.state.arg,O=Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{className:"immWindow",type:"text",placeholder:"input command",name:"immWindow",value:this.state.immWindow,onChange:this.handleImmInput}),Object(j.jsx)("input",{type:"text",placeholder:"arg",name:"arg",value:this.state.arg,onChange:this.handleImmInput}),Object(j.jsx)("button",{type:"submit",onClick:function(){return t[m](b)},children:"Go"})]});return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"row toprow",children:[Object(j.jsx)("div",{className:"col-5 box graphicsWindow",style:{padding:"0px"},children:Object(j.jsx)(w,{all:this.state})}),Object(j.jsx)("div",{className:"col-1 effectsWindow"}),Object(j.jsxs)("div",{className:"col-6 box textWindow",children:[Object(j.jsx)("p",{children:h}),Object(j.jsx)("p",{children:d}),Object(j.jsx)("p",{children:u}),0==this.state.combatwindow?Object(j.jsx)(y,{all:this.state,travel:this.travel,goto:this.goto,currentRoom:this.state.currentRoom,changeRoomImage:this.changeRoomImage}):Object(j.jsxs)("p",{className:"combatButtons",children:[o,r,l]}),1==this.state.gameOn?Object(j.jsx)("p",{className:"switchViewsButton",children:c}):null,0==this.state.combat&1==this.state.combatwindow?Object(j.jsx)("p",{children:i}):null]})]}),Object(j.jsx)("div",{className:"row bottomRow",children:Object(j.jsxs)("div",{className:"col-sm-12 box charWindow",children:[Object(j.jsx)("div",{className:"centerNav",children:Object(j.jsx)(A,{all:this.state})}),Object(j.jsx)(n.a.Fragment,{children:Object(j.jsxs)(p.c,{children:[Object(j.jsx)(p.a,{path:"/login/",children:Object(j.jsx)(T,{gameOn:this.gameOn,all:this.state})}),Object(j.jsx)(p.a,{path:"/character/create/",children:Object(j.jsx)(D,{all:this.state,gameOn:this.gameOn})}),Object(j.jsx)(p.a,{path:"/character/",children:Object(j.jsx)(I,{all:this.state})}),Object(j.jsx)(p.a,{path:"/inventory/",component:M}),Object(j.jsx)(p.a,{path:"/magic/",component:W}),Object(j.jsx)(p.a,{path:"/",children:Object(j.jsx)(x,{heal:this.heal,all:this.state})})]})}),!0===this.state.builderInput?O:null]})})]})}}]),a}(s.Component),B=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,43)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),s(t),n(t),c(t),i(t)}))};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(P,{})})}),document.getElementById("root")),B()}},[[41,1,2]]]);
//# sourceMappingURL=main.3834af68.chunk.js.map