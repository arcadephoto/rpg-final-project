(this["webpackJsonprpg-test"]=this["webpackJsonprpg-test"]||[]).push([[0],{12:function(e,t,a){},32:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(25),r=a.n(c),o=a(14),i=(a(32),a(3)),l=a(4),h=a(2),u=a(6),d=a(5),m=a(7),p=(a(12),a(0));n.Component;new function(e,t){this.name=e,this.location="",this.level="",this.ac="",this.maxhp="",this.currenthp="",this.maxsp="",this.currentsp="",this.job="",this.items=[],this.weapons=[],this.armor=[]}("player1",1),new function(e,t,a,n){this.name="",this.north=e,this.south=t,this.east=a,this.west=n,this.roomid=""}(2);var j=a(26),b=a(8),g=a.n(b),O=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={defaultChar:{},isLoggedIn:!!g.a.get("Authorization"),userId:!!localStorage.getItem("rpguser")},n.saveChar=n.saveChar.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"saveChar",value:function(e){fetch("/characters/save/".concat(e.id,"/"),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(Object(j.a)({},e))})}},{key:"render",value:function(){var e=this,t=void 0!=this.props.all.char?this.props.all.char:this.props.all.defaultChar,a=this.props.all.charWeapon,n=Object(p.jsx)("button",{onClick:function(){return e.saveChar(t)},children:"Save Character"}),s=Object(p.jsx)("button",{onClick:this.props.healChar,children:"Heal Character"});return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsxs)("div",{className:"row charbanner",children:[Object(p.jsx)("div",{className:"col-3 char",children:"Name"}),Object(p.jsx)("div",{className:"col-2 class",children:"Class"}),Object(p.jsx)("div",{className:"col-1 lvl",children:"Lvl"}),Object(p.jsx)("div",{className:"col-1 ac",children:"AC"}),Object(p.jsx)("div",{className:"col-1 hp",children:"HP"}),Object(p.jsx)("div",{className:"col-1 sp",children:"SP"}),Object(p.jsx)("div",{className:"col-1 xp",children:"XP"}),Object(p.jsx)("div",{className:"col-1 weapon",children:"Weapon"})]}),Object(p.jsx)("div",{className:"row charSpace"}),Object(p.jsxs)("div",{className:"row char1row",children:[Object(p.jsx)("p",{className:"col-3 char1",children:t.name}),Object(p.jsx)("p",{className:"col-2 cl1",children:t.job}),Object(p.jsx)("p",{className:"col-1 lvl1",children:t.level}),Object(p.jsx)("p",{className:"col-1 ac1",children:t.ac}),Object(p.jsxs)("p",{className:"col-1 hp1",children:[t.hp,"/",t.hpmax]}),Object(p.jsx)("p",{className:"col-1 sp1",children:null!=t.sp?"".concat(t.sp,"/").concat(t.spmax):"N/A"}),Object(p.jsx)("p",{className:"col-1 xp1",children:t.xp}),Object(p.jsx)("p",{className:"col-1 weapon",children:a.name})]}),Object(p.jsxs)("div",{className:"row char2row",children:[Object(p.jsx)("p",{className:"col-3 char2"}),Object(p.jsx)("p",{className:"col-2 lvl2"}),Object(p.jsx)("p",{className:"col-2 ac2"}),Object(p.jsx)("p",{className:"col-2 hp2"}),Object(p.jsx)("p",{className:"col-2 sp2"}),Object(p.jsx)("p",{className:"col-1 cl2"})]}),Object(p.jsxs)("div",{className:"row char3row",children:[Object(p.jsx)("p",{className:"col-3 char3"}),Object(p.jsx)("p",{className:"col-2 lvl3"}),Object(p.jsx)("p",{className:"col-2 ac3"}),Object(p.jsx)("p",{className:"col-2 hp3"}),Object(p.jsx)("p",{className:"col-2 sp3"}),Object(p.jsx)("p",{className:"col-1 cl3"})]}),n,s]})}}]),a}(n.Component),x=(a.p,a.p,a.p,a.p+"static/media/dungeonWalk.57773dc4.gif"),v=a.p+"static/media/dungeonStatic.2db142ce.jpg",f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)("img",{className:"img img-fluid",src:this.props.all.image,alt:"gate"})})}}]),a}(n.Component),w=[{id:1,name:"Home Base",desc:"A workshop filled with building materials and monster parts.",north:2,south:null,east:8,west:null},{id:2,name:"Room to the North",desc:"A surprisingly difficult to reach destination. There are exits\n        to the north and south.",north:3,south:1,east:null,west:null},{id:3,name:"Center of the Build",desc:"A soaring cavern with exits in all directions",north:5,south:2,east:6,west:4},{id:4,name:"The Western Chamber",desc:"A quiet space for working and testing. There's an exit to the east",north:null,south:null,east:3,west:null},{id:5,name:"The Waterfall",desc:"A cold, soaring chamber dominated by waterfall plunging from a fissure in the rock.",north:null,south:3,east:null,west:null},{id:6,name:"The Eastern Chamber",desc:"A large cavern strewn with discarded monster bits.",north:null,south:7,east:null,west:3},{id:7,name:"The Eastern Corridor",desc:"A long stone cavern filled with the glowing golden light of hundreds\n        of torches. Just like that Police video.",north:6,south:8,east:null,west:null},{id:8,name:"The Study",desc:"A small, quiet room with floor-to-ceiling bookshelves and many\n        comfortable chairs.",north:7,south:null,east:null,west:1}],y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={moveMsg:"",currentroom:w[0],dir:{}},n.move=n.move.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"move",value:function(e){var t,a=this,n=e.target.title;"north"==n&&(t=w.filter((function(e){return e.id==a.state.currentroom.north}))),"south"==n&&(t=w.filter((function(e){return e.id==a.state.currentroom.south}))),"east"==n&&(t=w.filter((function(e){return e.id==a.state.currentroom.east}))),"west"==n&&(t=w.filter((function(e){return e.id==a.state.currentroom.west}))),(t=t[0])?(this.props.changeRoomImage(x,v),this.setState({moveMsg:"You walk to the ".concat(n,".")}),this.setState({name:"",desc:""}),setTimeout((function(){a.setState({moveMsg:""})}),1e3),setTimeout((function(){a.setState({currentroom:t})}),1e3)):this.setState({moveMsg:"There's no exit in that direction!"})}},{key:"render",value:function(){var e=this.state.currentroom.name,t=this.state.currentroom.desc,a=Object(p.jsxs)(p.Fragment,{children:[this.state.currentroom.north?Object(p.jsx)("span",{title:"north",onClick:this.move,children:"<N>"}):null,this.state.currentroom.south?Object(p.jsx)("span",{title:"south",onClick:this.move,children:"<S>"}):null,this.state.currentroom.east?Object(p.jsx)("span",{title:"east",onClick:this.move,children:"<E>"}):null,this.state.currentroom.west?Object(p.jsx)("span",{title:"west",onClick:this.move,children:"<W>"}):null]}),n=this.state.moveMsg;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:e}),Object(p.jsx)("p",{id:"moveMsg",children:n}),Object(p.jsx)("p",{children:t}),Object(p.jsx)("p",{id:"nsew",children:a})]})}}]),a}(n.Component),k=(n.Component,a(17)),C=a(15),S=a.n(C),N=a(18),M=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isLoggedIn:!!g.a.get("Authorization"),username:"",email:"",password:"",password1:"",password2:"",data:[],hasProfile:!1,charData:null,accountData:[],hasAccount:!1},n.handleInput=n.handleInput.bind(Object(h.a)(n)),n.handleLogin=n.handleLogin.bind(Object(h.a)(n)),n.reset=n.reset.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")}};fetch("/accounts/detail/",t).then((function(t){return t.ok&&e.setState({hasAccount:!0}),t.json().then((function(t){return e.setState({accountData:t,charData:t.character})}))}))}},{key:"reset",value:function(){this.setState({username:""}),this.setState({password:""}),window.location.reload()}},{key:"handleLogin",value:function(){var e=Object(N.a)(S.a.mark((function e(t,a){var n,s,c,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(a)},s=function(e){return console.warn(e)},e.next=5,fetch("/rest-auth/login/",n);case 5:return c=e.sent,e.next=8,c.json().catch(s);case 8:(r=e.sent).key&&g.a.set("Authorization","Token ".concat(r.key)),this.reset();case 11:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleInput",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handleRegistration",value:function(){var e=Object(N.a)(S.a.mark((function e(t,a){var n,s,c,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(a)},s=function(e){return console.warn(e)},e.next=5,fetch("/rest-auth/registration/",n);case 5:return c=e.sent,e.next=8,c.json().catch(s);case 8:(r=e.sent).key&&g.a.set("Authorization","Token ".concat(r.key)),this.setState({username:"",email:"",password1:"",password2:""});case 11:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createProfile",value:function(){var e=Object(N.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("user",1),a={method:"POST",headers:{"X-CSRFToken":g.a.get("csrftoken")},body:t},e.next=5,fetch("/profiles/",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleLogout",value:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")}};fetch("/rest-auth/logout/",t).then((function(e){return e.json()})).then((function(t){return e.setState({data:t})})),g.a.remove("Authorization"),localStorage.clear(),window.location.reload()}},{key:"render",value:function(){var e=this,t=(this.props.all.charData,Object(p.jsxs)("form",{onSubmit:function(t){return e.handleRegistration(t,e.state)},children:[Object(p.jsx)("input",{className:"input-group form-control",type:"text",placeholder:"username",name:"username",value:this.state.username,onChange:this.handleInput}),Object(p.jsx)("input",{className:"input-group form-control",type:"email",placeholder:"email",name:"email",value:this.state.email,onChange:this.handleInput}),Object(p.jsx)("input",{className:"input-group form-control",type:"password",placeholder:"password",name:"password1",value:this.state.password1,onChange:this.handleInput}),Object(p.jsx)("input",{className:"input-group form-control",type:"password",placeholder:"confirm pass",name:"password2",value:this.state.password2,onChange:this.handleInput}),Object(p.jsx)("p",{children:Object(p.jsx)("button",{className:"btn btn-secondary",type:"submit",children:"Register"})})]})),a=(this.createProfile,Object(p.jsxs)("form",{onSubmit:function(t){return e.handleLogin(t,e.state)},children:[Object(p.jsx)("p",{children:"Welcome! Please log in, or register to create your own character."}),Object(p.jsx)("input",{className:"input-group",type:"text",placeholder:"username",name:"username",value:this.state.username,onChange:this.handleInput}),Object(p.jsx)("input",{className:"input-group",type:"password",placeholder:"password",name:"password",value:this.state.password,onChange:this.handleInput}),Object(p.jsx)("button",{className:"btn btn-secondary",type:"submit",children:"Log In"})]})),n=Object(p.jsx)("form",{onSubmit:function(t){return e.handleLogout(t,e.state)},children:Object(p.jsx)("button",{className:"btn btn-secondary",type:"submit",children:"Log Out"})}),s=this.state.charData,c=this.state.accountData,r=!0===this.state.hasAccount?Object(p.jsxs)("p",{children:["Account: ",c.username]}):null,o=!0===this.state.hasAccount&&null!==this.state.charData?Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:"Available characters:"}),Object(p.jsxs)("span",{children:[s.name," - Level ",s.level," ",s.job]})]}):Object(p.jsx)("p",{children:"Please create a character."});return Object(p.jsxs)("div",{className:"loginForm",children:[!1===this.state.isLoggedIn?a:n,!1===this.state.isLoggedIn?t:null,r,o]})}}]),a}(n.Component),A=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isLoggedIn:!!g.a.get("Authorization")},n}return Object(l.a)(a,[{key:"render",value:function(){var e=void 0!=this.props.all.char?this.props.all.char:this.props.all.defaultChar,t=Object(p.jsxs)("div",{className:"charSheet",children:[Object(p.jsxs)("p",{children:["Name: ",e.name]}),Object(p.jsxs)("p",{children:["Class: ",e.job]}),Object(p.jsxs)("p",{children:["Level: ",e.level]})]}),a=Object(p.jsxs)("div",{className:"charSheet",children:[Object(p.jsxs)("p",{children:["Armor: ",e.ac]}),Object(p.jsxs)("p",{children:["Health: ",e.hp]}),Object(p.jsxs)("p",{children:["Max Health: ",e.hpmax]})]}),n=Object(p.jsxs)("div",{className:"charSheet",children:[Object(p.jsxs)("p",{children:["Magic: ",e.sp]}),Object(p.jsxs)("p",{children:["Max Magic: ",e.spmax]}),Object(p.jsxs)("p",{children:["Experience: ",e.xp]})]});return this.state.isLoggedIn?Object(p.jsx)("section",{children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col",children:t}),Object(p.jsx)("div",{className:"col",children:a}),Object(p.jsx)("div",{className:"col",children:n})]})}):null}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{children:"Inventory!"})}}]),a}(n.Component),I=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("nav",{className:"navbar",children:Object(p.jsxs)("div",{className:"container-fluid",id:"navContainer",children:[Object(p.jsx)(o.b,{to:"/",children:"Game"}),Object(p.jsx)(o.b,{to:"/login/",children:"Account"}),Object(p.jsx)(o.b,{to:"/character/create/",children:"Create Char"}),Object(p.jsx)(o.b,{to:"/character/",children:"Character"}),Object(p.jsx)(o.b,{to:"/magic/",children:"Magic"}),Object(p.jsx)(o.b,{to:"/inventory/",children:"Inventory"})]})})}}]),a}(n.Component),W=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{children:"Magic"})}}]),a}(n.Component),L=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={name:"",job:"",level:1,armor:10,health:10,magic:10,isLoggedIn:!!g.a.get("Authorization")},n.handleInput=n.handleInput.bind(Object(h.a)(n)),n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleInput",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(N.a)(S.a.mark((function e(t,a){var n,s,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(a)},s=function(e){return console.warn(e)},e.next=5,fetch("/characters/create/",n);case 5:return c=e.sent,e.next=8,c.json().catch(s);case 8:e.sent;case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(p.jsxs)("form",{onSubmit:this.handleSubmit,className:"charCreateForm",children:[Object(p.jsx)("input",{type:"text",placeholder:"Character name",name:"name",value:this.state.name,onChange:this.handleInput}),Object(p.jsx)("section",{className:"dropdown",children:Object(p.jsxs)("label",{children:["Class",Object(p.jsxs)("select",{className:"btn-sm btn-secondary dropdown-toggle",value:this.state.job,onChange:this.handleChange,children:[Object(p.jsx)("option",{value:"warrior",children:"Warrior"}),Object(p.jsx)("option",{value:"magician",children:"Magician"})]})]})}),Object(p.jsx)("label",{children:"Level: "}),Object(p.jsx)("input",{className:"createField",type:"text",placeholder:"Lvl 1",name:"level",value:this.state.level,onChange:this.handleInput,readOnly:!0}),Object(p.jsx)("label",{children:"Armor: "}),Object(p.jsx)("input",{className:"createField",type:"text",placeholder:"Armor",name:"armor",value:this.state.armor,onChange:this.handleInput,readOnly:!0}),Object(p.jsx)("label",{children:"Health: "}),Object(p.jsx)("input",{className:"createField",type:"text",placeholder:"Health",name:"health",value:this.state.health,onChange:this.handleInput,readOnly:!0}),Object(p.jsx)("label",{children:"Magic: "}),Object(p.jsx)("input",{className:"createField",type:"text",placeholder:"Magic",name:"magic",value:this.state.magic,onChange:this.handleInput,readOnly:!0}),Object(p.jsx)("input",{hidden:!0,name:"hpmax",value:this.state.health,readOnly:!0}),Object(p.jsx)("input",{hidden:!0,name:"spmax",value:this.state.magic,readOnly:!0}),Object(p.jsx)("input",{hidden:!0,name:"xp",value:"0",readOnly:!0}),Object(p.jsx)("button",{className:"btn btn-success",type:"submit",children:"Save this Character"})]});return Object(p.jsx)("div",{children:e})}}]),a}(n.Component),D=[{mobId:1,name:"Bob the Dummy",damage:1,hp:10,hpmax:10,sp:"null",spmax:"null",ac:10,weapon:"wooden sword",damMessage:"pokes",xp:10},{mobId:2,name:"drop bear",damage:1,hp:10,hpmax:10,sp:"null",spmax:"null",ac:10,weapon:"claws",damMessage:"rakes",xp:10},{mobId:3,name:"giant tarantula",damage:1,hp:12,hpmax:12,sp:"null",spmax:"null",ac:12,weapon:"fangs",damMessage:"pierce",xp:10},{mobId:4,name:"hobgoblin",damage:1,hp:12,hpmax:12,sp:"null",spmax:"null",ac:9,weapon:"short sword",damMessage:"slashes",xp:10},{mobId:5,name:"giant rat",damage:1,hp:7,hpmax:7,sp:"null",spmax:"null",ac:8,weapon:"teeth",damMessage:"gouge",xp:10},{mobId:6,name:"black slime",damage:1,hp:6,hpmax:6,sp:"null",spmax:"null",ac:12,weapon:"acid goo",damMessage:"burns",xp:10},{mobId:7,name:"kobold",damage:1,hp:13,hpmax:13,sp:"null",spmax:"null",ac:10,weapon:"rusty knife",damMessage:"pierces",xp:10}],F=(a(40),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={combatwindow:!1,combat:!1,char:null,charWeapon:{},mob:{},charSpell:{},charAttackMessage:"",mobAttackMessage:"",data:[],isLoggedIn:!!g.a.get("Authorization"),image:v,defaultChar:{},playerMessage:""},n.charDeath=n.charDeath.bind(Object(h.a)(n)),n.changeToCombatWindow=n.changeToCombatWindow.bind(Object(h.a)(n)),n.meleeAttack=n.meleeAttack.bind(Object(h.a)(n)),n.magicAttack=n.magicAttack.bind(Object(h.a)(n)),n.runAway=n.runAway.bind(Object(h.a)(n)),n.rando=n.rando.bind(Object(h.a)(n)),n.resetWindow=n.resetWindow.bind(Object(h.a)(n)),n.randomMob=n.randomMob.bind(Object(h.a)(n)),n.healChar=n.healChar.bind(Object(h.a)(n)),n.charWins=n.charWins.bind(Object(h.a)(n)),n.changeRoomImage=n.changeRoomImage.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({defaultChar:{charId:1,name:"Please log in to load your character",lvl:null,ac:null,hpmax:null,hp:null,spmax:null,sp:null,class:null,weapon:null,xp:null}}),this.setState({charWeapon:{weaponId:1,name:"longsword",damageLow:2,damageHigh:5,damMessage:"slashes"}}),this.setState({charSpell:{spellId:1,name:"force bolt",damageLow:2,damageHigh:8,spCost:4,damMessage:"slams"}}),fetch("/characters/").then((function(e){return e.json()})).then((function(e){return e[0]})).then((function(t){return e.setState({char:t})}))}},{key:"changeToCombatWindow",value:function(){0==this.state.combatwindow?this.setState({combatwindow:!0}):this.setState({combatwindow:!1})}},{key:"changeRoomImage",value:function(e,t){var a=this;this.setState({image:e}),setTimeout((function(){a.setState({image:t})}),1500)}},{key:"rando",value:function(e,t){return Math.floor(Math.random()*(t-e))+e}},{key:"randomMob",value:function(){var e=this,t=Math.floor(Math.random()*(D.length-1))+1,a=D[t];this.setState({mob:a}),setTimeout((function(){e.setState({playerMessage:"A ".concat(e.state.mob.name," has entered the fight!")})}),0),setTimeout((function(){e.setState({playerMessage:""})}),2e3)}},{key:"resetWindow",value:function(){var e=this;setTimeout((function(){e.setState({combat:!1})}),4e3),setTimeout((function(){e.setState({combatwindow:!1})}),4e3),setTimeout((function(){e.setState({charAttackMessage:""})}),4e3),setTimeout((function(){e.setState({mobAttackMessage:""})}),4e3),setTimeout((function(){e.setState({playerMessage:""})}),4e3)}},{key:"meleeAttack",value:function(e,t,a){var n=this;0==this.state.combat&&(this.setState({combat:!0}),t.hp=t.hpmax,e.hp=e.hpmax);var s=this.rando(a.damageLow,a.damageHigh);t.hp=t.hp-s,this.setState({charAttackMessage:"".concat(e.name," ").concat(a.damMessage," the ").concat(t.name," for ").concat(s," points of damage!")}),t.hp<=0?this.charWins(e,t):(setTimeout((function(){n.setState({mobAttackMessage:"The ".concat(t.name," hits ").concat(e.name," for ").concat(t.damage," points of damage!")})}),1500),e.hp=e.hp-t.damage,this.setState({char:e}),e.hp<=0&&setTimeout((function(){n.charDeath(e)}),2e3),setTimeout((function(){n.setState({charAttackMessage:""})}),4e3),setTimeout((function(){n.setState({mobAttackMessage:""})}),4e3))}},{key:"magicAttack",value:function(e,t,a){var n=this,s=this.state.charSpell;if(e.sp>=s.spCost){e.sp=e.sp-s.spCost;var c=this.rando(s.damageLow,s.damageHigh);this.setState({charAttackMessage:"".concat(e.name,"'s ").concat(s.name," ").concat(s.damMessage," into the ").concat(t.name,", doing ").concat(c," damage!")}),t.hp=t.hp-c}else this.setState({playerMessage:"You don't have enough spell points to cast that."});t.hp<=0?this.charWins(e,t):(e.hp=e.hp-t.damage,this.setState({char:e}),setTimeout((function(){n.setState({mobAttackMessage:"The ".concat(t.name," hits ").concat(e.name," for ").concat(t.damage," points of damage!")})}),1500),setTimeout((function(){n.setState({charAttackMessage:""})}),4e3),setTimeout((function(){n.setState({mobAttackMessage:""})}),4e3))}},{key:"charWins",value:function(e,t){var a=this;setTimeout((function(){a.setState({playerMessage:"".concat(e.name," has defeated the ").concat(t.name,"! The fight is over.")})}),1e3),setTimeout((function(){a.setState({playerMessage:"".concat(e.name," receives ").concat(t.xp," points of experience.")})}),2500),this.state.char.xp=this.state.char.xp+this.state.mob.xp,this.setState({char:e}),this.resetWindow()}},{key:"runAway",value:function(){this.setState({playerMessage:"You turn and run!"}),this.resetWindow()}},{key:"charDeath",value:function(e){this.resetWindow(),this.setState({playerMessage:"You have been killed. You materialize in the home room."}),this.state.char.hp=this.state.char.hpmax,this.state.char.sp=this.state.char.spmax}},{key:"healChar",value:function(){var e=this.state.char;this.state.char.hp=this.state.char.hpmax,this.state.char.sp=this.state.char.spmax,this.setState({char:e})}},{key:"render",value:function(){var e=this,t=this.state.char,a=this.state.mob,n=this.state.charWeapon,c=Object(p.jsx)("button",{onClick:this.changeToCombatWindow,children:"Switch View"}),r=Object(p.jsx)("button",{onClick:this.randomMob,children:"Generate Mob"}),o=Object(p.jsx)("button",{onClick:function(){e.meleeAttack(t,a,n)},children:"Melee Attack"}),i=Object(p.jsx)("button",{onClick:function(){e.magicAttack(t,a,n)},children:"Cast Spell"}),l=Object(p.jsx)("button",{onClick:this.runAway,children:"Run Away!"}),h=this.state.charAttackMessage,u=this.state.mobAttackMessage,d=this.state.playerMessage;return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("div",{className:"row toprow",children:[Object(p.jsx)("div",{className:"col-5 box graphicsWindow",style:{padding:"0px"},children:Object(p.jsx)(f,{all:this.state})}),Object(p.jsx)("div",{className:"col-1 box effectsWindow"}),Object(p.jsxs)("div",{className:"col-6 box textWindow",children:[Object(p.jsx)("p",{children:h}),Object(p.jsx)("p",{children:u}),Object(p.jsx)("p",{children:d}),0==this.state.combatwindow?Object(p.jsx)(y,{changeRoomImage:this.changeRoomImage}):Object(p.jsxs)("p",{className:"combatButtons",children:[o,i,l]}),Object(p.jsx)("p",{className:"switchViewsButton",children:c}),0==this.state.combat&1==this.state.combatwindow?Object(p.jsx)("p",{children:r}):null]})]}),Object(p.jsx)("div",{className:"row-12 centerNav",children:Object(p.jsx)(I,{})}),Object(p.jsx)("div",{className:"row bottomrow",children:Object(p.jsx)("div",{className:"col-12 box charWindow",children:Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)(m.c,{children:[Object(p.jsx)(m.a,{path:"/login/",children:Object(p.jsx)(M,{all:this.state})}),Object(p.jsx)(m.a,{path:"/character/create/",component:L}),Object(p.jsx)(m.a,{path:"/character/",children:Object(p.jsx)(A,{all:this.state})}),Object(p.jsx)(m.a,{path:"/inventory/",component:T}),Object(p.jsx)(m.a,{path:"/magic/",component:W}),Object(p.jsx)(m.a,{path:"/",children:Object(p.jsx)(O,{healChar:this.healChar,all:this.state})})]})})})})]})}}]),a}(n.Component)),P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,43)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(o.a,{children:Object(p.jsx)(F,{})})}),document.getElementById("root")),P()}},[[41,1,2]]]);
//# sourceMappingURL=main.bd59b85b.chunk.js.map